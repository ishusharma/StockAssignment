{"ast":null,"code":"import _slicedToArray from\"C:/Users/ishu.a.sharma/Documents/Personal/React_Sample/React (1)/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Highcharts from'highcharts/highstock';import HighchartsReact from'highcharts-react-official';import{useRecoilState,useRecoilValue}from\"recoil\";import{stocksAtom,stocksSelector}from\"../states/StockState/StockList\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Report=function Report(){var _useRecoilState=useRecoilState(stocksAtom),_useRecoilState2=_slicedToArray(_useRecoilState,2),setStocks=_useRecoilState2[1];var stocks=useRecoilValue(stocksSelector);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchSymbol=_useState2[0],setSearchSymbol=_useState2[1];var getData=function getData(param){param=param.toUpperCase();if(param){axios.get('http://api.marketstack.com/v1/eod?access_key=3dc53bdf0a3a0a47b62270dae3b28b5b&symbols='+param).then(function(response){if(response){console.log(response.data);var result=response.data;if(result.data&&result.data.length){setStocks(result.data);}else{/*#__PURE__*/_jsx(\"div\",{children:\"No Data Found\"});}}});}else{/*#__PURE__*/_jsx(\"div\",{children:\"No Data Found\"});}};var onChangeSearchSymbol=function onChangeSearchSymbol(e){var searchSymbol=e.target.value;setSearchSymbol(searchSymbol);};var findBySymbol=function findBySymbol(){getData(searchSymbol);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by symbol\",value:searchSymbol,onChange:onChangeSearchSymbol}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:findBySymbol,children:\"Search\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"list row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(HighchartsReact,{highcharts:Highcharts,options:stocks})})})]});};export default Report;","map":{"version":3,"names":["React","useState","Highcharts","HighchartsReact","useRecoilState","useRecoilValue","stocksAtom","stocksSelector","axios","Report","setStocks","stocks","searchSymbol","setSearchSymbol","getData","param","toUpperCase","get","then","response","console","log","data","result","length","onChangeSearchSymbol","e","target","value","findBySymbol"],"sources":["C:/Users/ishu.a.sharma/Documents/Personal/React_Sample/React (1)/src/components/Report.tsx"],"sourcesContent":["import React, { ChangeEvent, useEffect, useState } from \"react\";\r\nimport { Datum } from '../models/Stock';\r\nimport Highcharts from 'highcharts/highstock';\r\nimport HighchartsReact from 'highcharts-react-official';\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport { stocksAtom, stocksSelector } from \"../states/StockState/StockList\";\r\nimport axios from \"axios\";\r\n\r\nconst Report: React.FC = () => {\r\n    const [, setStocks] = useRecoilState(stocksAtom);\r\n    const stocks = useRecoilValue(stocksSelector);\r\n    const [searchSymbol, setSearchSymbol] = useState('');\r\n   \r\n    const getData = (param: string) => {\r\n        param=param.toUpperCase();\r\n        if(param)\r\n        {\r\n        axios.get('http://api.marketstack.com/v1/eod?access_key=3dc53bdf0a3a0a47b62270dae3b28b5b&symbols='+param)\r\n            .then((response) => {\r\n                if (response) {\r\n                    console.log(response.data);\r\n                    const result = response.data;\r\n                    if (result.data && result.data.length) {\r\n                        setStocks(result.data as Datum[]);\r\n                    }\r\n                    else{\r\n                        <div>No Data Found</div>\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            <div>No Data Found</div>\r\n        }\r\n    }\r\n\r\n    const onChangeSearchSymbol = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const searchSymbol = e.target.value;\r\n        setSearchSymbol(searchSymbol);       \r\n      };\r\n\r\n      const findBySymbol = () => {\r\n        getData(searchSymbol);          \r\n      };\r\n      \r\n\r\n    return (\r\n        <>\r\n    <div className=\"col-md-8\">\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Search by symbol\"\r\n            value={searchSymbol}\r\n            onChange={onChangeSearchSymbol}\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button\r\n              className=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              onClick={findBySymbol}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n            <div className=\"list row\">                \r\n                <div className='App'>\r\n                    <HighchartsReact highcharts={Highcharts} options={stocks} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Report;\r\n"],"mappings":"sJAAA,MAAOA,MAAP,EAAwCC,QAAxC,KAAwD,OAAxD,CAEA,MAAOC,WAAP,KAAuB,sBAAvB,CACA,MAAOC,gBAAP,KAA4B,2BAA5B,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,QAA/C,CACA,OAASC,UAAT,CAAqBC,cAArB,KAA2C,gCAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CAC3B,oBAAsBL,cAAc,CAACE,UAAD,CAApC,oDAASI,SAAT,qBACA,GAAMC,OAAM,CAAGN,cAAc,CAACE,cAAD,CAA7B,CACA,cAAwCN,QAAQ,CAAC,EAAD,CAAhD,wCAAOW,YAAP,eAAqBC,eAArB,eAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAmB,CAC/BA,KAAK,CAACA,KAAK,CAACC,WAAN,EAAN,CACA,GAAGD,KAAH,CACA,CACAP,KAAK,CAACS,GAAN,CAAU,yFAAyFF,KAAnG,EACKG,IADL,CACU,SAACC,QAAD,CAAc,CAChB,GAAIA,QAAJ,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,GAAMC,OAAM,CAAGJ,QAAQ,CAACG,IAAxB,CACA,GAAIC,MAAM,CAACD,IAAP,EAAeC,MAAM,CAACD,IAAP,CAAYE,MAA/B,CAAuC,CACnCd,SAAS,CAACa,MAAM,CAACD,IAAR,CAAT,CACH,CAFD,IAGI,CACA,oDACH,CACJ,CACJ,CAZL,EAaC,CAfD,IAgBI,CACA,oDACH,CACJ,CArBD,CAuBA,GAAMG,qBAAoB,CAAG,QAAvBA,qBAAuB,CAACC,CAAD,CAAsC,CAC/D,GAAMd,aAAY,CAAGc,CAAC,CAACC,MAAF,CAASC,KAA9B,CACAf,eAAe,CAACD,YAAD,CAAf,CACD,CAHH,CAKE,GAAMiB,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBf,OAAO,CAACF,YAAD,CAAP,CACD,CAFD,CAKF,mBACI,wCACJ,YAAK,SAAS,CAAC,UAAf,uBACI,aAAK,SAAS,CAAC,kBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,kBAHd,CAIE,KAAK,CAAEA,YAJT,CAKE,QAAQ,CAAEa,oBALZ,EADF,cAQE,YAAK,SAAS,CAAC,oBAAf,uBACE,eACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEI,YAHX,oBADF,EARF,GADJ,EADI,cAqBI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,KAAC,eAAD,EAAiB,UAAU,CAAE3B,UAA7B,CAAyC,OAAO,CAAES,MAAlD,EADJ,EADJ,EArBJ,GADJ,CA6BH,CAnED,CAqEA,cAAeF,OAAf"},"metadata":{},"sourceType":"module"}